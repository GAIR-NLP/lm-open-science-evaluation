from .few_shot_prompting import FewShotPrompting

few_shot_prompt = """
问题：
语句 1| 每个从有限集到其自身的函数都必须是一一对应的。语句 2 | 阿贝尔群的每个子群都是阿贝尔群。
以下哪个选项是正确的？给出简单解释
（A）没错，没错， （B）假的，假的，（C）正确，错误，（D）假，真
解答：
语句 1：每个从有限集到其自身的函数都必须是一一对应的。
这个语句是错误的。考虑函数 f: {1,2,3} → {1,2,3}，定义为 f(1) = 1, f(2) = 1, f(3) = 1。这个函数将所有元素映射到同一个值，所以它不是一一对应的。一个函数要成为一一对应，必须同时是单射和满射，而这个例子既不是单射也不是满射。
一般而言，从有限集到自身的函数可以是任何映射，不一定是一一对应的。

语句 2：阿贝尔群的每个子群都是阿贝尔群。
这个语句是正确的。阿贝尔群的定义是群中所有元素都满足交换律，即对于群中任意元素 a 和 b，有 a·b = b·a。
如果 H 是阿贝尔群 G 的子群，那么 H 中的所有元素也都在 G 中，所以这些元素也必然满足交换律。因此，子群 H 也是阿贝尔群。

所以答案是： (D) 假，真。


问题：
变量 $x$ 与 $y$ 的平方成正比，而 $y$ 与 $z$ 的立方成正比。如果当 $z$ 等于 2 时，$x$ 等于 $-16$，那么当 $z$ 等于 $\frac{1}{2}$ 时，$x$ 的值是多少？
以下哪个选项是正确的？给出简单解释
（A）-1，（B）16，（C）$-\frac{1}{256}$，（D）$\frac{1}{16}$
解答：
第一步：建立比例关系
1. 变量 $x$ 与 $y^2$ 成正比，即：
   \[
   x = k_1 y^2
   \]
2. 变量 $y$ 与 $z^3$ 成正比，即：
   \[
   y = k_2 z^3
   \]

第二步：消去 $y$
将 $y$ 代入 $x$ 的表达式：
   \[
   x = k_1 (k_2 z^3)^2 = k_1 k_2^2 z^6
   \]
设 $k = k_1 k_2^2$，则：
   \[
   x = k z^6
   \]

第三步：确定 $k$ 的值
已知 $z = 2$ 时，$x = -16$，代入公式：
   \[
   -16 = k (2^6) = k \cdot 64
   \]
   \[
   k = -\frac{16}{64} = -\frac{1}{4}
   \]

第四步：计算 $z = \frac{1}{2}$ 时的 $x$
   \[
   x = -\frac{1}{4} \left( \frac{1}{2} \right)^6
   \]
   \[
   x = -\frac{1}{4} \times \frac{1}{64} = -\frac{1}{256}
   \]

所以答案是： (C) $-\frac{1}{256}$


问题：
一家商店销售 107 种不同颜色的油漆。他们仓库里每种颜色有 25 罐。可以使用以下表达式找到商店库存的油漆罐数。107 × 25。商店库存了多少罐油漆？
以下哪个选项是正确的？给出简单解释
（A）749，（B）2,675，（C）2,945，（D）4,250
解答：
商店库存的油漆罐数可以通过以下表达式计算：
\[
107 \times 25 = 2675
\]

所以答案是： (B) 2,675


问题：
下列哪项关于相关性的表述是正确的？
（A）如果回归线的斜率正好是 1，那么相关性就正好是 1。
（B）如果相关性为 0，则回归线的斜率未定义。
（C）切换称为 x 的变量和称为 y 的变量会改变相关性的符号。
（D）当 y 变量的 z 分数与 x 变量的 z 分数绘制在一起时，相关性 r 等于回归线的斜率。
解答：
选项 (A)：错误。 回归线的斜率由公式：
   \[
   b = r \frac{s_y}{s_x}
   \]
决定，因此斜率为 1 只意味着 \( r = \frac{s_x}{s_y} \)，但 \( r \) 可能不等于 1。

选项 (B)：错误。相关性为 0 仅表示无线性关系，但回归线仍然存在，且斜率为 0（水平线）。

选项 (C)：错误。相关系数 \( r \) 具有对称性，即：
   \[
   r_{xy} = r_{yx}
   \]
交换变量不会改变其符号。

选项 (D)：正确。标准化变量满足：
   \[
   z_y = r z_x
   \]
因此，回归线的斜率正好是相关性 \( r \)。

所以答案是： (D) 当 y 变量的 z 分数与 x 变量的 z 分数绘制在一起时，相关性 r 等于回归线的斜率。
""".strip()

class MMMLUZHMathPrompt(FewShotPrompting):
    def __init__(self):
        super().__init__()

    def format_prompt(self, task_input, task_output):
        prompt = f"{few_shot_prompt}\n\n问题：\n{task_input}\n解答：\n{task_output}"
        return prompt.rstrip()

    def stop_words(self):
        return ["\n问题："]
